{"version":3,"file":"2-form-09a97d71.js","sources":["../../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nreloadData();\n\nform.addEventListener('input', formInput);\n\nform.addEventListener('submit', submitData);\n\nfunction formInput(e) {\n  e.preventDefault();\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n  const obj = {\n    email,\n    message,\n  };\n  loadToLS(STORAGE_KEY, obj);\n}\n\nfunction submitData(e) {\n  e.preventDefault();\n  if (form.elements.email.value && form.elements.message.value) {\n    const obj = localStorage.getItem(STORAGE_KEY);\n    try {\n      console.log(JSON.parse(obj));\n    } catch (error) {\n      console.log(error.name);\n      console.log(error.message);\n      console.log('JSON package is corrupted');\n    }\n    localStorage.removeItem(STORAGE_KEY);\n    form.elements.email.value = '';\n    form.elements.message.value = '';\n  } else alert('Please, fill the form');\n}\n\nfunction loadToLS(key, value) {\n  const inputDataStorage = JSON.stringify(value);\n  localStorage.setItem(key, inputDataStorage);\n}\n\nfunction loadFromLS(key) {\n  const inputDataStorage = localStorage.getItem(key);\n  try {\n    return JSON.parse(inputDataStorage);\n  } catch (error) {\n    console.log(error.name);\n    console.log(error.message);\n    console.log('JSON package is corrupted');\n  }\n}\n\nfunction reloadData() {\n  const data = loadFromLS(STORAGE_KEY);\n  if (data) {\n    form.elements.email.value = data.email;\n    form.elements.message.value = data.message;\n  } else {\n    return 1;\n  }\n}\n"],"names":["STORAGE_KEY","form","reloadData","formInput","submitData","email","message","loadToLS","obj","error","key","value","inputDataStorage","loadFromLS","data"],"mappings":"AAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EACpDC,IAEAD,EAAK,iBAAiB,QAASE,CAAS,EAExCF,EAAK,iBAAiB,SAAUG,CAAU,EAE1C,SAASD,EAAU,EAAG,CACpB,EAAE,eAAc,EAChB,MAAME,EAAQJ,EAAK,SAAS,MAAM,MAAM,OAClCK,EAAUL,EAAK,SAAS,QAAQ,MAAM,OAK5CM,EAASP,EAJG,CACV,MAAAK,EACA,QAAAC,CACJ,CAC2B,CAC3B,CAEA,SAASF,EAAW,EAAG,CAErB,GADA,EAAE,eAAc,EACZH,EAAK,SAAS,MAAM,OAASA,EAAK,SAAS,QAAQ,MAAO,CAC5D,MAAMO,EAAM,aAAa,QAAQR,CAAW,EAC5C,GAAI,CACF,QAAQ,IAAI,KAAK,MAAMQ,CAAG,CAAC,CAC5B,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,IAAI,EACtB,QAAQ,IAAIA,EAAM,OAAO,EACzB,QAAQ,IAAI,2BAA2B,CACxC,CACD,aAAa,WAAWT,CAAW,EACnCC,EAAK,SAAS,MAAM,MAAQ,GAC5BA,EAAK,SAAS,QAAQ,MAAQ,EAClC,MAAS,MAAM,uBAAuB,CACtC,CAEA,SAASM,EAASG,EAAKC,EAAO,CAC5B,MAAMC,EAAmB,KAAK,UAAUD,CAAK,EAC7C,aAAa,QAAQD,EAAKE,CAAgB,CAC5C,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAME,EAAmB,aAAa,QAAQF,CAAG,EACjD,GAAI,CACF,OAAO,KAAK,MAAME,CAAgB,CACnC,OAAQH,EAAO,CACd,QAAQ,IAAIA,EAAM,IAAI,EACtB,QAAQ,IAAIA,EAAM,OAAO,EACzB,QAAQ,IAAI,2BAA2B,CACxC,CACH,CAEA,SAASP,GAAa,CACpB,MAAMY,EAAOD,EAAWb,CAAW,EACnC,GAAIc,EACFb,EAAK,SAAS,MAAM,MAAQa,EAAK,MACjCb,EAAK,SAAS,QAAQ,MAAQa,EAAK,YAEnC,OAAO,EAEX"}